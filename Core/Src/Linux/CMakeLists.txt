#Generated by VisualGDB project wizard.
#Note: VisualGDB will automatically update this file when you add new sources to the project.

cmake_minimum_required(VERSION 3.5.1)	# Himanshu - changed from 3.1 to 3.5.1
project(Linux VERSION 1.0.0)
set(CMAKE_CXX_STANDARD 11)
find_package(Threads REQUIRED)

# (Not) For Raspberry pi
if(NOT "${PLATFORM_ID}" STREQUAL "Raspbian\n")
	set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -g")
	set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -g")
	include_directories(SYSTEM
		# ${CMAKE_SOURCE_DIR}/lib/asio-1.10.6/include/
		/usr/local/include/mongocxx/v_noabi
		/usr/local/include/libmongoc-1.0
		/usr/local/include/bsoncxx/v_noabi
		/usr/local/include/libbson-1.0
	)
else()
	include_directories(SYSTEM
		# ${CMAKE_SOURCE_DIR}/lib/asio-1.10.6/include/
	)
endif()

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -D_DEBUG -DASIO_STANDALONE -DASIO_HAS_STD_CHRONO")
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -D_DEBUG -DASIO_STANDALONE -DASIO_HAS_STD_CHRONO")

link_directories(/usr/local/lib)	# for mongocxx

set_with_path_prefix(LinuxServer_SOURCES
	Scheduler.cpp main.cpp BaseLibrary.cpp Core.cpp COSEMServer.cpp
	Debug.cpp Memory.cpp Serial.cpp SimpleTimer.cpp Socket.cpp
	Synchronization.cpp Apps.cpp COSEMClient.cpp
)

set_with_path_prefix(LinuxClient_SOURCES
	Scheduler.cpp main.cpp BaseLibrary.cpp Core.cpp COSEMServer.cpp
	Debug.cpp Memory.cpp Serial.cpp SimpleTimer.cpp Socket.cpp
	Synchronization.cpp Apps.cpp COSEMClient.cpp
)